openapi: 3.0.0
info:
  title: ONDC Specification
  description: ONDC Specification
  version: 1.0.0
security:
  - SubscriberAuth: []
paths:
  /search:
    post:
      tags:
        - Provider Platform
        - Gateway
      description: Consumer Platform declares the customer's intent to buy/avail products
        or services
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1search/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1search/post/responses/200"
  /select:
    post:
      tags:
        - Provider Platform
      description: Consumer Platform declares the customer's cart (or equivalent) created
        by selecting objects from the catalog
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1select/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1select/post/responses/200"
  /init:
    post:
      tags:
        - Provider Platform
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1init/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1init/post/responses/200"
  /confirm:
    post:
      tags:
        - Provider Platform
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1confirm/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1confirm/post/responses/200"
  /status:
    post:
      tags:
        - Provider Platform
      description: Fetch the latest order object
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1status/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1status/post/responses/200"
  /track:
    post:
      tags:
        - Provider Platform
      description: Track an active order
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1track/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1track/post/responses/200"
  /cancel:
    post:
      tags:
        - Provider Platform
      description: Cancel an order
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1cancel/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1cancel/post/responses/200"
  /update:
    post:
      tags:
        - Provider Platform
      description: Remove object
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1update/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1update/post/responses/200"
  /rating:
    post:
      tags:
        - Provider Platform
      description: Provide feedback on a service
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1rating/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1rating/post/responses/200"
  /support:
    post:
      tags:
        - Provider Platform
      description: Contact support
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1support/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1support/post/responses/200"
  /on_search:
    post:
      tags:
        - Consumer Platform
        - Gateway
      description: Provider Platform sends its catalog in response to a search request.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_search/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_search/post/responses/200"
  /on_select:
    post:
      tags:
        - Consumer Platform
      description: Send draft order object with quoted price for selected items
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_select/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_select/post/responses/200"
  /on_init:
    post:
      tags:
        - Consumer Platform
      description: Send order object with payment details updated
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_init/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_init/post/responses/200"
  /on_confirm:
    post:
      tags:
        - Consumer Platform
      description: Send active order object
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_confirm/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_confirm/post/responses/200"
  /on_track:
    post:
      tags:
        - Consumer Platform
      description: Send tracking details of an active order
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_track/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_track/post/responses/200"
  /on_cancel:
    post:
      tags:
        - Consumer Platform
      description: Send cancellation request_id with reasons list in case of cancellation
        request. Else send cancelled order object
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_cancel/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_cancel/post/responses/200"
  /on_update:
    post:
      tags:
        - Consumer Platform
      description: Returns updated service with updated runtime object
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_update/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_update/post/responses/200"
  /on_status:
    post:
      tags:
        - Consumer Platform
      description: Fetch the status of a Service
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_status/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_status/post/responses/200"
  /on_rating:
    post:
      tags:
        - Consumer Platform
      description: Provide feedback on a service
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_rating/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_rating/post/responses/200"
  /on_support:
    post:
      tags:
        - Consumer Platform
      description: Contact Support
      requestBody:
        content:
          application/json:
            schema:
              $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_support/post/requestBody/content/application~1json/schema"
      responses:
        default:
          $ref: "../../mobility-core/api/mobility.yaml#/paths/~1on_support/post/responses/200"
components:
  securitySchemes:
    SubscriberAuth:
      type: apiKey
      in: header
      name: Authorization
      description: >-
        Signature of message body using Consumer Platform or Provider Platform
        subscriber's signing public key.
        <br/><br/>Format:<br/><br/><code>Authorization : Signature
        keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created)
        (expires) digest",signature="Base64(signing string)"</code>
  schemas:
    $ref: "../../mobility-core/api/mobility.yaml#/components/schemas"

