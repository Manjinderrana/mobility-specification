summary: Return updated order with recomputed charges
value:
  context:
    location:
      country:
        code: IND
      city:
        code: Bangalore
    bpp_uri: https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
    domain: ONDC:TRV10
    timestamp: "2023-03-23T04:48:53Z"
    bap_id: https://example-bap.com
    bpp_id: https://example-bpp.com
    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
    message_id: 8926b747-0362-4fcc-b795-0994a6287700
    version: 2.0.0
    action: on_update
    bap_uri: https://api.example-bap.com/pilot/bap/cab/v1
  message:
    update_target: order.payment, order.quote
    order:
      id: ABC1234
      provider:
        id: e8542642-0f4a-454c-9a9f-f46110c367a3
        descriptor:
          name: Raghavendra J
      items:
        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
          descriptor:
            name: Auto Ride
            code: RIDE
          tags:
            - descriptor:
                code: fare_policy
                name: Daytime Charges
              display: true
              list:
                - descriptor:
                    name: Min Fare upto 2 km
                  value: ₹ 30 upto 2 km
                - descriptor:
                    code: extra_fare
                - descriptor:
                    name: Rate above Min. Fare
                  value: ₹15 / km
                - descriptor:
                    code: pickup_charges
                    name: Driver Pickup Charges
                  value: ₹ 10
                - descriptor:
                    code: nominal_fare
                    name: Nominal Fare
                    short_desc: Driver may quote extra to cover fortraffic, chance of return trip, etc.
                  value: ₹ 10
                - descriptor:
                    code: waiting_charges
                    name: Nominal Fare
                    short_desc: Driver may quote extra to cover fortraffic, chance of return trip, etc.
                  value: ₹ 0 / min
            - descriptor:
                code: fare_policy
                name: Waiting Charges
              display: true
              list:
                - descriptor:
                    code: night_charges
                    name: Night Charges
                  value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                - descriptor:
                    code: night_shift_start_time
                    name: Night Shift Start
                  value: 22:00:00
                - descriptor:
                    code: night_shift_end_time
                    name: Night Shift End
                  value: 05:00:00
            - descriptor:
                code: info
                name: General Information
              display: true
              list:
                - descriptor:
                    code: distance_to_nearest_driver
                    name: Distance to nearest driver
                  value: 661 m
                - descriptor:
                    code: waiting_time_estimated_threshold
                    name: Wait time upto
                  value: 3 min
          fulfillment_ids:
            - fb5c84d4-1b59-4b9d-96b5-9d79107432c5
          payment_ids:
            - "1"
      quote:
        price:
          value: "75"
          currency: INR
        breakup:
          - title: Base Fare
            price:
              value: "30"
              currency: INR
          - title: Per km fare
            price:
              value: "40"
              currency: INR
          - title: CGST @ 5%
            price:
              value: "2.5"
              currency: INR
          - title: SGST @ 5%
            price:
              value: "2.5"
              currency: INR
      fulfillments:
        - id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
          state:
            descriptor:
              code: RIDE_ENDED
              name: Your ride has ended
          stops:
            - type: start
              authorization:
                type: OTP
                token: "234234"
              location:
                gps: 13.008935, 77.6444085
                
            - type: end
              location:
                gps: 12.9711869, 77.5868122
                
          agent:
            person:
              name: RAGHAVENDRA J
            contact:
              phone: +91-98978675645
            rating: "5"
          vehicle:
            category: AUTO_RICKSHAW
            registration: KA01JG1231
          customer:
            contact:
              phone: +91-9897867564
            person:
              name: John Doe
              tags:
                - descriptor:
                    code: localization
                    name: Localization
                  display: false
                  list:
                    - descriptor:
                        code: lang
                        name: Language
                      value: en
      payments:
        - id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
          type: ON-FULFILLMENT
          params:
            amount: "75"
            currency: INR
            transaction_status: NOT-PAID
