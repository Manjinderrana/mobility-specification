search:
  message:
    intent:
      payment: &payment
        $ref: "./tag-group.yaml#/payment"     
on_search:
  message:
    catalog:
      providers:
        items: &items
          $ref: "./tag-group.yaml#/items"
        fulfillments: &fulfillments
          $ref: "./tag-group.yaml#/fulfillment"
        payments: *payment
select: 
  message:
    order:
      fulfillments: *fulfillments
on_select: 
  message:
    order:
      fulfillments: *fulfillments
      items: *items
      provider: &provider
        $ref: "./tag-group.yaml#/provider"
      quote: &quote
        $ref: "./tag-group.yaml#/quote" 
init:
  message:
    order:
      payments: *payment
on_init: &ref0
  message:
    order:
      fulfillments: *fulfillments
      items: *items
      provider: *provider
      payments: *payment
      quote: *quote
on_confirm: *ref0
on_status:
  message:
    order:
      fulfillments: *fulfillments
      items: *items
on_cancel: *ref0
on_update: *ref0
