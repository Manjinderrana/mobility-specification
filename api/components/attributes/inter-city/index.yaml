search: &search
  context: &search_context
    location: &search_context_location
      country: &search_context_location_country
        code: &search_context_location_country_code
          required: MANDATORY
          type: string
          owner: BAP
          usage: IND
          description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
        _description: &search_context_location_country__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: This attribute defines the country of location where the
            transaction is meant to be completed.
      city: &search_context_location_city
        code: &search_context_location_city_code
          required: MANDATORY
          type: string
          owner: BAP
          usage: std:080
          description: Describes the city code this location is, or is located within
        _description: &search_context_location_city__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: This attribute defines the city of location where the transaction
            is meant to be completed.
      _description: &search_context_location__description
        required: MANDATORY
        type: object
        owner: BAP
        usage: --
        description: This attribute defines the location where the transaction is meant
          to be completed.
    domain: &search_context_domain
      required: MANDATORY
      type: string
      owner: BAP
      usage: ONDC:TRV13
      description: Describes domain code that is relevant to this transaction context
    timestamp: &search_context_timestamp
      required: MANDATORY
      type: string
      owner: BAP
      usage: 2023-03-23T04:41:16Z
      description: Describes tme of request generation in RFC3339 format
    bap_id: &search_context_bap_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: api.example-bap.com
      description: Describes subscriber ID of the BAP
    transaction_id: &search_context_transaction_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: 6743e9e2
      description: Describes  a unique value which persists across all API calls
    message_id: &search_context_message_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: 13ba8018f176
      description: Describes a unique value which persists during a request / callback
        cycle.
    version: &search_context_version
      required: MANDATORY
      type: integer
      owner: BAP
      usage: 2.0.0
      description: Describes the version of transaction protocol being used by the sender.
    action: &search_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: search
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: &search_context_bap_uri
      required: MANDATORY
      type: string
      owner: BAP
      usage: https://api.example-bap.com/pilot/bap/cab/v1
      description: Describes subscriber URL of the BAP for accepting callbacks from BPPs.
    ttl: &search_context_ttl
      required: MANDATORY
      type: string
      owner: BAP
      usage: PT30S
      description: Describes the duration in ISO8601 format after timestamp for which
        this message holds valid
  message: &search_message
    intent: &search_message_intent
      fulfillment: &search_message_intent_fulfillment
        stops: &search_message_intent_fulfillment_stops
          type: &search_message_intent_fulfillment_stops_type
            required: MANDATORY
            type: string
            owner: BAP
            usage: START
            description: A logical point in space and time during the fulfillment of an
              order.
          location: &search_message_intent_fulfillment_stops_location
            gps: &search_message_intent_fulfillment_stops_location_gps
              required: MANDATORY
              type: string
              owner: BAP
              usage: 12.979759, 77.590427
              description: Describes a GPS coordinate
            descriptor: &search_message_intent_fulfillment_stops_location_descriptor
              code: &search_message_intent_fulfillment_stops_location_descriptor_code
                required: OPTIONAL
                type: string
                owner: BAP
                usage: std:080
                description: Physical description of code.
              _description: &search_message_intent_fulfillment_stops_location_descriptor__description
                required: OPTIONAL
                type: object
                owner: BAP
                usage: --
                description: Describe the location of the stop
            _description: &search_message_intent_fulfillment_stops_location__description
              required: MANDATORY
              type: object
              owner: BAP
              usage: --
              description: Describe the location of the stop
          time: &search_message_intent_fulfillment_stops_time
            label: &search_message_intent_fulfillment_stops_time_label
              required: OPTIONAL
              type: string
              owner: BAP
              usage: DATE_OF_JOURNEY
              description: Label for denoting stop time or date
            timestamp: &search_message_intent_fulfillment_stops_time_timestamp
              required: OPTIONAL
              type: string
              owner: BAP
              usage: 2023-09-06T00:00:00.000Z
              description: Timestamp for denoting time at stop
          _description: &search_message_intent_fulfillment_stops__description
            required: MANDATORY
            type: object
            owner: BAP
            usage: --
            description: The list of logical stops encountered during the fulfillment of an
              order.
        vehicle: &search_message_intent_fulfillment_vehicle
          category: &search_message_intent_fulfillment_vehicle_category
            required: MANDATORY
            type: string
            owner: BAP
            usage: BUS
            description: Describes category of a vehicle
          _description: &search_message_intent_fulfillment_vehicle__description
            required: OPTIONAL
            type: object
            owner: BAP
            usage: --
            description: Describes a vehicle is a device that is designed or used to
              transport people or cargo over land, water, air, or through
              space.<br>This has properties like category, capacity, make,
              model, size,variant,color,energy_type,registration
        _description: &search_message_intent_fulfillment__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: Describes how a an order will be rendered/fulfilled to the
            end-customer
      payment: &search_message_intent_payment
        _description: &search_message_intent_payment__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: The terms of settlement for this order
        collected_by: &search_message_intent_payment_collected_by
          required: OPTIONAL
          type: string
          owner: BAP
          usage: BPP
          description: This field indicates the payment collector. If set to 'bap,' BAP
            collects first and settles with BPP. If BPP agrees, no payment link
            is sent. If set to 'bpp,' BPP collects payment directly.
on_search: &on_search {}
select: *on_search
on_select: *on_search
init: *on_search
on_init: *on_search
confirm: *on_search
on_confirm: *on_search
cancel: *on_search
on_cancel: *on_search
update: *on_search
on_update: *on_search
status: *on_search
on_status: *on_search
