search: &search
  context: &search_context
    location: &search_context_location
      country: &search_context_location_country
        code: &search_context_location_country_code
          required: MANDATORY
          type: string
          owner: BAP
          usage: IND
          description: Describes country code as per ISO 3166-1 and ISO 3166-2 format
        _description: &search_context_location_country__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: This attribute defines the country of location where the
            transaction is meant to be completed.
      city: &search_context_location_city
        code: &search_context_location_city_code
          required: MANDATORY
          type: string
          owner: BAP
          usage: std:080
          description: Describes the city code this location is, or is located within
        _description: &search_context_location_city__description
          required: MANDATORY
          type: object
          owner: BAP
          usage: --
          description: This attribute defines the city of location where the transaction
            is meant to be completed.
      _description: &search_context_location__description
        required: MANDATORY
        type: object
        owner: BAP
        usage: --
        description: This attribute defines the location where the transaction is meant
          to be completed.
    domain: &search_context_domain
      required: MANDATORY
      type: string
      owner: BAP
      usage: ONDC:TRV11
      description: Describes domain code that is relevant to this transaction context
    timestamp: &search_context_timestamp
      required: MANDATORY
      type: string
      owner: BAP
      usage: 2023-03-23T04:41:16Z
      description: Describes tme of request generation in RFC3339 format
    bap_id: &search_context_bap_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: api.example-bap.com
      description: Describes subscriber ID of the BAP
    transaction_id: &search_context_transaction_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: 6743e9e2
      description: Describes  a unique value which persists across all API calls
    message_id: &search_context_message_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: 13ba8018f176
      description: Describes a unique value which persists during a request / callback
        cycle.
    version: &search_context_version
      required: MANDATORY
      type: string
      owner: BAP
      usage: 2.0.0
      description: Describes the version of transaction protocol being used by the sender.
    action: &search_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: search
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: &search_context_bap_uri
      required: MANDATORY
      type: string
      owner: BAP
      usage: https://api.example-bap.com/pilot/bap/cab/v1
      description: Describes subscriber URL of the BAP for accepting callbacks from BPPs.
    ttl: &search_context_ttl
      required: MANDATORY
      type: string
      owner: BAP
      usage: PT30S
      description: Describes the duration in ISO8601 format after timestamp for which
        this message holds valid
  message: &search_message
    intent: &search_message_intent
      fulfillment: &search_message_intent_fulfillment
        stops: &search_message_intent_fulfillment_stops
          type: &search_message_intent_fulfillment_stops_type
            required: OPTIONAL
            type: string
            owner: BAP
            usage: START
            description: A logical point in space and time during the fulfillment of an
              order.
          location: &search_message_intent_fulfillment_stops_location
            gps: &search_message_intent_fulfillment_stops_location_gps
              required: OPTIONAL
              type: string
              owner: BAP
              usage: 12.923608, 77.614629
              description: Describes a GPS coordinate
            descriptor: &search_message_intent_fulfillment_stops_location_descriptor
              code: &search_message_intent_fulfillment_stops_location_descriptor_code
                required: OPTIONAL
                type: string
                owner: BAP
                usage: SHAHEED_STHAL
                description: Describes the code for a particular location.
              _description: &search_message_intent_fulfillment_stops_location_descriptor__description
                required: OPTIONAL
                type: object
                owner: BAP/BPP
                usage: --
                description: Describe the descriptor of the location
            _description: &search_message_intent_fulfillment_stops_location__description
              required: OPTIONAL
              type: object
              owner: BAP/BPP
              usage: --
              description: Describe the location of the stop
          _description: &search_message_intent_fulfillment_stops__description
            required: OPTIONAL
            type: object
            owner: BAP/BPP
            usage: --
            description: The list of logical stops encountered during the fulfillment of an
              order.
        vehicle: &search_message_intent_fulfillment_vehicle
          category: &search_message_intent_fulfillment_vehicle_category
            required: MANDATORY
            type: string
            owner: BAP
            usage: METRO
            description: Describes category of a vehicle
          _description: &search_message_intent_fulfillment_vehicle__description
            required: MANDATORY
            type: object
            owner: BAP
            usage: --
            description: Describes a vehicle is a device that is designed or used to
              transport people or cargo over land, water, air, or through
              space.<br>This has properties like category, capacity, make,
              model, size,variant,color,energy_type,registration
        _description: &search_message_intent_fulfillment__description
          required: MANDATORY
          type: object
          owner: BAP/BPP
          usage: --
          description: Describes how a an order will be rendered/fulfilled to the
            end-customer
      payment: &search_message_intent_payment
        collected_by: &search_message_intent_payment_collected_by
          required: OPTIONAL
          type: string
          owner: BAP
          usage: BPP
          description: This field indicates the payment collector. If set to 'bap,' BAP
            collects first and settles with BPP. If BPP agrees, no payment link
            is sent. If set to 'bpp,' BPP collects payment directly.
        _description: &search_message_intent_payment__description
          required: OPTIONAL
          type: object
          owner: BAP
          usage: --
          description: The terms of settlement for this order
      _description: &search_message_intent__description
        required: MANDATORY
        type: object
        owner: BAP
        usage: --
        description: This helps the system to find out the purpose of the user behind
          choosing any product or service. By using this intent the system can
          align relevant options from available products or service.
on_search: &on_search
  context: &on_search_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_search_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_search
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: &on_search_context_bpp_id
      required: MANDATORY
      type: string
      owner: BPP
      usage: api.example-bpp.com
      description: Describes subscriber ID of the BPP
    bpp_uri: &on_search_context_bpp_uri
      required: MANDATORY
      type: string
      owner: BPP
      usage: https://api.example-bpp.com/dobpp/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
      description: Describes subscriber URL of the BPP for accepting calls from BAPs.
  message: &on_search_message
    catalog: &on_search_message_catalog
      descriptor: &on_search_message_catalog_descriptor
        name: &on_search_message_catalog_descriptor_name
          required: MANDATORY
          type: string
          owner: BPP
          usage: Transit Solutions
          description: Describes the catalog's name.
        images: &on_search_message_catalog_descriptor_images
          url: &on_search_message_catalog_descriptor_images_url
            required: OPTIONAL
            type: string
            owner: BPP
            usage: https://transitsolutions.in/logos/logo.ico
            description: URL to the image. This can be a data url or an remote url
          _description: &on_search_message_catalog_descriptor_images__description
            required: OPTIONAL
            type: object
            owner: BPP
            usage: --
            description: Describes the images's description.
        _description: &on_search_message_catalog_descriptor__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: Describes the catalog's descriptor.
      providers: &on_search_message_catalog_providers
        id: &on_search_message_catalog_providers_id
          required: MANDATORY
          type: string
          owner: BPP
          usage: db1928f9
          description: Id of the provider
        categories: &on_search_message_catalog_providers_categories
          id: &on_search_message_catalog_providers_categories_id
            required: MANDATORY
            type: string
            owner: BPP
            usage: C1
            description: Unique Id for the categories
          descriptor: &on_search_message_catalog_providers_categories_descriptor
            name: &on_search_message_catalog_providers_categories_descriptor_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Ticket
              description: Describes the category name.
            code: &on_search_message_catalog_providers_categories_descriptor_code
              required: MANDATORY
              type: string
              owner: BPP
              usage: TICKET
              description: Describes the category code.
            _description: &on_search_message_catalog_providers_categories_descriptor__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: Describes the provider's categories description.
          _description: &on_search_message_catalog_providers_categories__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes the provider's categories.
        time: &on_search_message_catalog_providers_time
          range: &on_search_message_catalog_providers_time_range
            start: &on_search_message_catalog_providers_time_range_start
              required: MANDATORY
              type: string
              owner: BPP
              usage: 2023-09-14T05:30:00.000Z
              description: Describes the start time period for individual category.
            end: &on_search_message_catalog_providers_time_range_end
              required: MANDATORY
              type: string
              owner: BPP
              usage: 2023-09-14T23:30:00.000Z
              description: Describes the end time period for individual category.
            _description: &on_search_message_catalog_providers_time_range__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: Describes time in its various forms. It can be a single point in
                time; duration; or a structured timetable of operations<br>This
                has properties like label, time stamp,duration,range, days,
                schedule
          _description: *on_search_message_catalog_providers_time_range__description
        descriptor: &on_search_message_catalog_providers_descriptor
          name: &on_search_message_catalog_providers_descriptor_name
            required: MANDATORY
            type: string
            owner: BPP
            usage: Delhi Metro Rail Limited
            description: Describes the provider's name.
          images: &on_search_message_catalog_providers_descriptor_images
            url: &on_search_message_catalog_providers_descriptor_images_url
              required: OPTIONAL
              type: string
              owner: BPP
              usage: https://delhimetrorail.com/logos/logo.ico
              description: URL to the image. This can be a data url or an remote url
            _description: &on_search_message_catalog_providers_descriptor_images__description
              required: OPTIONAL
              type: object
              owner: BPP
              usage: --
              description: Describes the images description.
          _description: &on_search_message_catalog_providers_descriptor__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes the provider's description.
        fulfillments: &on_search_message_catalog_providers_fulfillments
          id: &on_search_message_catalog_providers_fulfillments_id
            required: MANDATORY
            type: string
            owner: BPP
            usage: 3bd4ea25
            description: Unique reference ID to the fulfillment of an order
          type: &on_search_message_catalog_providers_fulfillments_type
            required: MANDATORY
            type: string
            owner: BPP
            usage: ROUTE
            description: "A code that describes the mode of fulfillment. This is typically
              set when there are multiple ways an order can be fulfilled. "
          stops: &on_search_message_catalog_providers_fulfillments_stops
            id: &on_search_message_catalog_providers_fulfillments_stops_id
              required: MANDATORY
              type: string
              owner: BPP
              usage: 2
              description: Unique reference ID for individual stop
            parent_stop_id: &on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 1
              description: Unique ID for referencing parent stop
            type: &on_search_message_catalog_providers_fulfillments_stops_type
              required: MANDATORY
              type: string
              owner: BPP
              usage: INTERMEDIATE_STOP
              description: The type of stop. Allowed values of this property can be defined by
                the network policy.
            instructions: &on_search_message_catalog_providers_fulfillments_stops_instructions
              name: &on_search_message_catalog_providers_fulfillments_stops_instructions_name
                required: OPTIONAL
                type: string
                owner: BPP
                usage: Stop 2
                description: Instructions name that need to be followed at the stop
              short_desc: &on_search_message_catalog_providers_fulfillments_stops_instructions_short_desc
                required: OPTIONAL
                type: string
                owner: BPP
                usage: Please Change here for Yellow Line
                description: short description of instructions that need to be followed at the
                  stop
              _description: &on_search_message_catalog_providers_fulfillments_stops_instructions__description
                required: OPTIONAL
                type: object
                owner: BPP
                usage: --
                description: Describes the fulfillments stops instructions.
            location: &on_search_message_catalog_providers_fulfillments_stops_location
              descriptor: &on_search_message_catalog_providers_fulfillments_stops_location_descriptor
                code: &on_search_message_catalog_providers_fulfillments_stops_location_descriptor_code
                  required: OPTIONAL
                  type: string
                  owner: BPP
                  usage: KASHMERE_GATE
                  description: Describes the code for a particular location.
                name: &on_search_message_catalog_providers_fulfillments_stops_location_descriptor_name
                  required: OPTIONAL
                  type: string
                  owner: BPP
                  usage: Kashmere Gate
                  description: Describes the name for a particular location.
                _description: &on_search_message_catalog_providers_fulfillments_stops_location_descriptor__description
                  required: OPTIONAL
                  type: object
                  owner: BPP
                  usage: --
                  description: Describes the description of location.
              gps: &on_search_message_catalog_providers_fulfillments_stops_location_gps
                required: MANDATORY
                type: string
                owner: BPP
                usage: 28.707358, 77.180910
                description: The GPS co-ordinates of this location.
              _description: &on_search_message_catalog_providers_fulfillments_stops_location__description
                required: OPTIONAL
                type: object
                owner: BPP
                usage: --
                description: Describes the location of stops.
            _description: &on_search_message_catalog_providers_fulfillments_stops__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: Describes the fulfillments stops.
          vehicle: &on_search_message_catalog_providers_fulfillments_vehicle
            category: &on_search_message_catalog_providers_fulfillments_vehicle_category
              required: MANDATORY
              type: string
              owner: BPP
              usage: METRO
              description: Describes category of a vehicle
            _description: &on_search_message_catalog_providers_fulfillments_vehicle__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: Describes the vehicle type.
          _description: &on_search_message_catalog_providers_fulfillments__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes how a an order will be rendered/fulfilled to the
              end-customer
        items: &on_search_message_catalog_providers_items
          id: &on_search_message_catalog_providers_items_id
            required: OPTIONAL
            type: string
            owner: BPP
            usage: b2400168
            description: ID of the item.
          descriptor: &on_search_message_catalog_providers_items_descriptor
            code: &on_search_message_catalog_providers_items_descriptor_code
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Single Journey Ticket
              description: Describes the code for a particular item.
            name: &on_search_message_catalog_providers_items_descriptor_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: SJT
              description: Describes the name for a particular item.
            _description: &on_search_message_catalog_providers_items_descriptor__description
              required: OPTIONAL
              type: object
              owner: BPP
              usage: --
              description: Describes the items description.
          price: &on_search_message_catalog_providers_items_price
            currency: &on_search_message_catalog_providers_items_price_currency
              required: OPTIONAL
              type: string
              owner: BPP
              usage: INR
              description: Describes the price of a product or service
            value: &on_search_message_catalog_providers_items_price_value
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 60
              description: Describes the currency of a product or service
            _description: &on_search_message_catalog_providers_items_price__description
              required: OPTIONAL
              type: object
              owner: BPP
              usage: --
              description: Describes the price of an item.
          quantity: &on_search_message_catalog_providers_items_quantity
            maximum: &on_search_message_catalog_providers_items_quantity_maximum
              count: &on_search_message_catalog_providers_items_quantity_maximum_count
                required: OPTIONAL
                type: integer
                owner: BPP
                usage: 6
                description: This represents the maximum quantity allowed for purchase of the
                  item
              _description: &on_search_message_catalog_providers_items_quantity_maximum__description
                required: OPTIONAL
                type: object
                owner: BPP
                usage: --
                description: Describes the maximum quantity of an item.
            minimum: &on_search_message_catalog_providers_items_quantity_minimum
              count: &on_search_message_catalog_providers_items_quantity_minimum_count
                required: OPTIONAL
                type: integer
                owner: BPP
                usage: 1
                description: This represents the minimum quantity allowed for purchase of the
                  item
              _description: &on_search_message_catalog_providers_items_quantity_minimum__description
                required: OPTIONAL
                type: object
                owner: BPP
                usage: --
                description: Describes the mimimum quantity of an item.
            _description: &on_search_message_catalog_providers_items_quantity__description
              required: OPTIONAL
              type: object
              owner: BPP
              usage: --
              description: Describes the quantity info of an item.
          fulfillment_ids: &on_search_message_catalog_providers_items_fulfillment_ids
            required: OPTIONAL
            type: string
            owner: BPP
            usage: 3bd4ea25
            description: Unique reference ID to the fulfillment of an order
          category_ids: &on_search_message_catalog_providers_items_category_ids
            required: OPTIONAL
            type: string
            owner: BPP
            usage: C1
            description: Unique reference ID to the categories of an order
          time: &on_search_message_catalog_providers_items_time
            duration: &on_search_message_catalog_providers_items_time_duration
              required: OPTIONAL
              type: string
              owner: BPP
              usage: PT2D
              description: Time duration for servicibility
            label: &on_search_message_catalog_providers_items_time_label
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Validity
              description: label for time
            _description: &on_search_message_catalog_providers_items_time__description
              required: OPTIONAL
              type: object
              owner: BPP
              usage: --
              description: Temporal attributes of this item. This property is used when the
                item exists on the catalog only for a limited period of time.
          _description: &on_search_message_catalog_providers_items__description
            required: OPTIONAL
            type: object
            owner: BPP
            usage: --
            description: Describes a product or a service offered to the end consumer by the
              provider. In the mobility sector, it can represent a fare product
              like one way journey. In the logistics sector, it can represent
              the delivery service offering. In the retail domain it can
              represent a product like a grocery item.
        payments: &on_search_message_catalog_providers_payments
          collected_by: &on_search_message_catalog_providers_payments_collected_by
            required: MANDATORY
            type: string
            owner: BAP
            usage: BPP
            description: This field indicates the payment collector. If set to 'bap,' BAP
              collects first and settles with BPP. If BPP agrees, no payment
              link is sent. If set to 'bpp,' BPP collects payment directly.
          _description: &on_search_message_catalog_providers_payments__description
            required: MANDATORY
            type: object
            owner: BAP/BPP
            usage: --
            description: Describes the terms of settlement between the BAP and the BPP for a
              single transaction
        _description: *on_search_message_catalog_providers_descriptor__description
      _description: &on_search_message_catalog__description
        required: MANDATORY
        type: object
        owner: BPP
        usage: --
        description: Describes the catalog's description.
select: &select
  context: &select_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &select_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: select
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &select_message
    order: &select_message_order
      items: &select_message_order_items
        id: &select_message_order_items_id
          required: MANDATORY
          type: string
          owner: BPP
          usage: b2400168
          description: Describes the ID of the item.
        quantity: &select_message_order_items_quantity
          selected: &select_message_order_items_quantity_selected
            count: &select_message_order_items_quantity_selected_count
              required: MANDATORY
              type: integer
              owner: BAP
              usage: 1
              description: This represents the quantity selected for purchase of the item
            _description: &select_message_order_items_quantity_selected__description
              required: MANDATORY
              type: object
              owner: BAP
              usage: --
              description: Describes the selected quantity of an item.
          _description: &select_message_order_items_quantity__description
            required: MANDATORY
            type: object
            owner: BAP/BPP
            usage: --
            description: Describes the quantity info of an item.
        _description: &select_message_order_items__description
          required: MANDATORY
          type: object
          owner: BAP/BPP
          usage: --
          description: This decription refers to the comprehensive list of the products or
            services selected and obtained within the specified order.
      provider: &select_message_order_provider
        id: *on_search_message_catalog_providers_id
        _description: &select_message_order_provider__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: This describes the complete formulated description of the loan
            provider whose catalog items have been selected.
      _description: &select_message_order__description
        required: MANDATORY
        type: object
        owner: BPP
        usage: --
        description: This refers to the complete description of the legal contract
          created between the buyer and the seller.
on_select: &on_select
  context: &on_select_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_select_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_select
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &on_select_message
    order: &on_select_message_order
      items: &on_select_message_order_items
        id: &on_select_message_order_items_id
          required: MANDATORY
          type: string
          owner: BPP
          usage: b2400168
          description: ID of the item.
        descriptor: &on_select_message_order_items_descriptor
          name: &on_select_message_order_items_descriptor_name
            required: OPTIONAL
            type: string
            owner: BPP
            usage: Single Journey Ticket
            description: Describes the name for a particular item.
          code: &on_select_message_order_items_descriptor_code
            required: MANDATORY
            type: string
            owner: BPP
            usage: SJT
            description: Describes the code for a particular item.
          _description: &on_select_message_order_items_descriptor__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes the items description.
        price: &on_select_message_order_items_price
          currency: &on_select_message_order_items_price_currency
            required: MANDATORY
            type: string
            owner: BPP
            usage: INR
            description: Price of the selected item.
          value: &on_select_message_order_items_price_value
            required: MANDATORY
            type: string
            owner: BPP
            usage: 60
            description: Describes a numerical value in decimal form
          _description: &on_select_message_order_items_price__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes the price of an item.
        quantity: &on_select_message_order_items_quantity
          selected: &on_select_message_order_items_quantity_selected
            count: &on_select_message_order_items_quantity_selected_count
              required: MANDATORY
              type: integer
              owner: BPP
              usage: 2
              description: This represents the quantity selected for purchase of the item
            _description: *select_message_order_items_quantity_selected__description
          _description: *select_message_order_items_quantity__description
        fulfillment_ids: *on_search_message_catalog_providers_fulfillments_id
        category_ids: &on_select_message_order_items_category_ids
          required: MANDATORY
          type: string
          owner: BPP
          usage: C1
          description: Unique reference ID to the categories of an order
        time: &on_select_message_order_items_time
          label: &on_select_message_order_items_time_label
            required: MANDATORY
            type: string
            owner: BPP
            usage: PT2D
            description: Time duration for servicibility
          duration: &on_select_message_order_items_time_duration
            required: MANDATORY
            type: string
            owner: BPP
            usage: Validity
            description: label for time
          _description: &on_select_message_order_items_time__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Temporal attributes of this item. This property is used when the
              item exists on the catalog only for a limited period of time.
        _description: &on_select_message_order_items__description
          required: MANDATORY
          type: object
          owner: BAP/BPP
          usage: --
          description: Describes a product or a service offered to the end consumer by the
            provider. In the mobility sector, it can represent a fare product
            like one way journey. In the logistics sector, it can represent the
            delivery service offering. In the retail domain it can represent a
            product like a grocery item.
      provider: &on_select_message_order_provider
        id: *on_search_message_catalog_providers_id
        descriptor: *on_search_message_catalog_providers_descriptor
        time: &on_select_message_order_provider_time
          range: &on_select_message_order_provider_time_range
            start: &on_select_message_order_provider_time_range_start
              required: MANDATORY
              type: string
              owner: BPP
              usage: 2023-09-14T05:30:00.000Z
              description: Describes the start time period.
            end: &on_select_message_order_provider_time_range_end
              required: MANDATORY
              type: string
              owner: BPP
              usage: 2023-09-14T23:30:00.000Z
              description: Describes the end time period.
            _description: *on_search_message_catalog_providers_time_range__description
        _description: *on_search_message_catalog_providers_descriptor__description
      fulfillments: &on_select_message_order_fulfillments
        id: *on_search_message_catalog_providers_fulfillments_id
        type: &on_select_message_order_fulfillments_type
          required: MANDATORY
          type: string
          owner: BPP
          usage: TRIP
          description: Denotes the fulfillment type
        stops: &on_select_message_order_fulfillments_stops
          id: &on_select_message_order_fulfillments_stops_id
            required: OPTIONAL
            type: string
            owner: BPP
            usage: 2
            description: Unique reference ID for individual stop
          parent_stop_id: *on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
          type: &on_select_message_order_fulfillments_stops_type
            required: OPTIONAL
            type: string
            owner: BPP
            usage: INTERMEDIATE_STOP
            description: The type of stop. Allowed values of this property can be defined by
              the network policy.
          instructions: &on_select_message_order_fulfillments_stops_instructions
            name: &on_select_message_order_fulfillments_stops_instructions_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Stop 1
              description: |
                Describes the instructions name.
            short_desc: &on_select_message_order_fulfillments_stops_instructions_short_desc
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Change for Pink Line
              description: |
                Describes the instructions short description.
            _description: *on_search_message_catalog_providers_fulfillments_stops_instructions__description
          location: &on_select_message_order_fulfillments_stops_location
            descriptor: &on_select_message_order_fulfillments_stops_location_descriptor
              name: &on_select_message_order_fulfillments_stops_location_descriptor_name
                required: OPTIONAL
                type: string
                owner: BPP
                usage: Shaheed Sthal(New Bus Adda)
                description: Describes the name for a particular location.
              code: &on_select_message_order_fulfillments_stops_location_descriptor_code
                required: OPTIONAL
                type: string
                owner: BPP
                usage: SHAHEED_STHAL
                description: Describes the code for a particular location.
              _description: *on_search_message_catalog_providers_fulfillments_stops_location_descriptor__description
            gps: &on_select_message_order_fulfillments_stops_location_gps
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 28.686576, 77.441632
              description: Describes a GPS coordinate
            _description: *on_search_message_catalog_providers_fulfillments_stops_location__description
          _description: *on_search_message_catalog_providers_fulfillments_stops__description
        vehicle: &on_select_message_order_fulfillments_vehicle
          category: &on_select_message_order_fulfillments_vehicle_category
            required: OPTIONAL
            type: string
            owner: BPP
            usage: METRO
            description: Describes vehicle category
          _description: *on_search_message_catalog_providers_fulfillments_vehicle__description
        _description: *on_search_message_catalog_providers_fulfillments__description
      quote: &on_select_message_order_quote
        price: &on_select_message_order_quote_price
          value: &on_select_message_order_quote_price_value
            required: MANDATORY
            type: string
            owner: BPP
            usage: 60
            description: Describes the price of a product or service
          currency: &on_select_message_order_quote_price_currency
            required: MANDATORY
            type: string
            owner: BPP
            usage: INR
            description: Describes the currency of a product or service
          _description: &on_select_message_order_quote_price__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: This refers to the value of used currency of quoted price.
        breakup: &on_select_message_order_quote_breakup
          title: &on_select_message_order_quote_breakup_title
            required: MANDATORY
            type: string
            owner: BPP
            usage: BASE_FARE
            description: Breakup title of the total quoted price
          item: &on_select_message_order_quote_breakup_item
            id: &on_select_message_order_quote_breakup_item_id
              required: MANDATORY
              type: string
              owner: BPP
              usage: I1
              description: ID of the item.
            price: &on_select_message_order_quote_breakup_item_price
              currency: &on_select_message_order_quote_breakup_item_price_currency
                required: MANDATORY
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of breakup item
              value: &on_select_message_order_quote_breakup_item_price_value
                required: MANDATORY
                type: string
                owner: BPP
                usage: 60
                description: Describes the value of breakup item
              _description: &on_select_message_order_quote_breakup_item_price__description
                required: MANDATORY
                type: object
                owner: BPP
                usage: --
                description: This attribute describes the item price description.
            quantity: &on_select_message_order_quote_breakup_item_quantity
              selected: &on_select_message_order_quote_breakup_item_quantity_selected
                count: &on_select_message_order_quote_breakup_item_quantity_selected_count
                  required: MANDATORY
                  type: string
                  owner: BPP
                  usage: 2
                  description: Describes the count of breakup item
                _description: &on_select_message_order_quote_breakup_item_quantity_selected__description
                  required: MANDATORY
                  type: object
                  owner: BPP
                  usage: --
                  description: This attribute describes the selected quantity.
              _description: &on_select_message_order_quote_breakup_item_quantity__description
                required: MANDATORY
                type: object
                owner: BPP
                usage: --
                description: This attribute describes the item quantity description.
            _description: &on_select_message_order_quote_breakup_item__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: This attribute describes the breakup's item description.
          price: &on_select_message_order_quote_breakup_price
            value: &on_select_message_order_quote_breakup_price_value
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 120
              description: Describes the price of a product or service
            _description: &on_select_message_order_quote_breakup_price__description
              required: MANDATORY
              type: object
              owner: BPP
              usage: --
              description: Describes the breakup price
            currency: *on_search_message_catalog_providers_items_price_currency
          _description: &on_select_message_order_quote_breakup__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: This attribute describes the breakup of the total quoted price.
        _description: &on_select_message_order_quote__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: This refers to the complete description of the mutually agreed upon
            quotation for this order.
      cancellation_terms: &on_select_message_order_cancellation_terms
        external_ref: &on_select_message_order_cancellation_terms_external_ref
          url: &on_select_message_order_cancellation_terms_external_ref_url
            required: MANDATORY
            type: string
            owner: BPP
            usage: https://transitsolutions.com/mf/tnc.html
            description: URL to the cancellation terms. This can be a data url or an remote
              url
          mimetype: &on_select_message_order_cancellation_terms_external_ref_mimetype
            required: MANDATORY
            type: string
            owner: BPP
            usage: text/html
            description: Describes the mimetype for provided url
          _description: &on_select_message_order_cancellation_terms_external_ref__description
            required: MANDATORY
            type: object
            owner: BPP
            usage: --
            description: Describes the external_ref for cancellation terms
        _description: &on_select_message_order_cancellation_terms__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: Describes the cancellation_terms
      _description: *select_message_order__description
init: &init
  context: &init_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &init_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: init
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &init_message
    order: &init_message_order
      items: &init_message_order_items
        id: *select_message_order_items_id
        quantity: &init_message_order_items_quantity
          selected: &init_message_order_items_quantity_selected
            count: &init_message_order_items_quantity_selected_count
              required: MANDATORY
              type: integer
              owner: BPP
              usage: 1
              description: This represents the quantity selected for purchase of the item
            _description: *select_message_order_items_quantity_selected__description
          _description: *select_message_order_items_quantity__description
        _description: *select_message_order_items__description
      provider: *select_message_order_provider
      billing: &init_message_order_billing
        name: &init_message_order_billing_name
          required: OPTIONAL
          type: string
          owner: BAP
          usage: John Doe
          description: Name of the billable entity
        email: &init_message_order_billing_email
          required: OPTIONAL
          type: string
          owner: BAP
          usage: john.doe@example.com
          description: Email address where the bill is sent to
        phone: &init_message_order_billing_phone
          required: OPTIONAL
          type: string
          owner: BAP
          usage: 9897867564
          description: Phone number of the billable entity
        _description: &init_message_order_billing__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: The billing details of this order
      payments: &init_message_order_payments
        collected_by: &init_message_order_payments_collected_by
          required: MANDATORY
          type: string
          owner: BAP
          usage: BAP
          description: "This field indicates who is the collector of payment. "
        status: &init_message_order_payments_status
          required: MANDATORY
          type: string
          owner: BAP
          usage: NOT-PAID
          description: Payment status
        type: &init_message_order_payments_type
          required: MANDATORY
          type: string
          owner: BAP
          usage: PRE-ORDER
          description: Payment Type
        params: &init_message_order_payments_params
          bank_code: &init_message_order_payments_params_bank_code
            required: OPTIONAL
            type: string
            owner: BAP
            usage: XXXXXXXX
            description: Bank code associated with payment activity
          bank_account_number: &init_message_order_payments_params_bank_account_number
            required: OPTIONAL
            type: string
            owner: BAP
            usage: xxxxxxxxxxxxxx
            description: Bank account number associated with payment activity
          virtual_payment_address: &init_message_order_payments_params_virtual_payment_address
            required: OPTIONAL
            type: string
            owner: BAP
            usage: 9988199772@okicic
            description: Virtual payment address associated with payment activity
          _description: &init_message_order_payments_params__description
            required: MANDATORY
            type: object
            owner: BAP
            usage: --
            description: This attribute defines the payment params for this order.
        _description: &init_message_order_payments__description
          required: MANDATORY
          type: object
          owner: BAP/BPP
          usage: --
          description: The terms of settlement for this order
      _description: *select_message_order__description
on_init: &on_init
  context: &on_init_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_init_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_init
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &on_init_message
    order: &on_init_message_order
      items: &on_init_message_order_items
        id: *on_select_message_order_items_id
        descriptor: *on_select_message_order_items_descriptor
        price: *on_select_message_order_items_price
        quantity: *on_select_message_order_items_quantity
        category_ids: *on_select_message_order_items_category_ids
        time: *on_select_message_order_items_time
        fulfillment_ids: *on_search_message_catalog_providers_fulfillments_id
        _description: *on_select_message_order_items__description
      provider: &on_init_message_order_provider
        id: *on_search_message_catalog_providers_id
        descriptor: *on_search_message_catalog_providers_descriptor
        time: &on_init_message_order_provider_time
          range: *on_select_message_order_provider_time_range
          _description: *on_search_message_catalog_providers_time_range__description
        _description: *on_search_message_catalog_providers_descriptor__description
      fulfillments: &on_init_message_order_fulfillments
        id: &on_init_message_order_fulfillments_id
          required: MANDATORY
          type: string
          owner: BPP
          usage: 3bd4ea25-021d-46ba-aac1-5bab903adde1
          description: Unique reference ID to the fulfillment of an order
        type: *on_select_message_order_fulfillments_type
        stops: &on_init_message_order_fulfillments_stops
          id: *on_select_message_order_fulfillments_stops_id
          parent_stop_id: *on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
          type: *on_select_message_order_fulfillments_stops_type
          instructions: &on_init_message_order_fulfillments_stops_instructions
            name: &on_init_message_order_fulfillments_stops_instructions_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Stop 1
              description: Describes the instructions name.
            short_desc: *on_select_message_order_fulfillments_stops_instructions_short_desc
            _description: *on_search_message_catalog_providers_fulfillments_stops_instructions__description
          location: *on_select_message_order_fulfillments_stops_location
          _description: *on_search_message_catalog_providers_fulfillments_stops__description
        vehicle: *on_select_message_order_fulfillments_vehicle
        _description: *on_search_message_catalog_providers_fulfillments__description
      billing: *init_message_order_billing
      quote: &on_init_message_order_quote
        price: *on_select_message_order_quote_price
        breakup: &on_init_message_order_quote_breakup
          title: &on_init_message_order_quote_breakup_title
            required: MANDATORY
            type: string
            owner: BPP
            usage: Base Fare
            description: Breakup title of the total quoted price
          item: &on_init_message_order_quote_breakup_item
            id: *on_select_message_order_items_id
            quantity: *on_select_message_order_quote_breakup_item_quantity
            price: &on_init_message_order_quote_breakup_item_price
              value: *on_select_message_order_quote_breakup_item_price_value
              currency: &on_init_message_order_quote_breakup_item_price_currency
                required: MANDATORY
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency to be paid in of a breakup item
              _description: *on_select_message_order_quote_breakup_item_price__description
            _description: *on_select_message_order_quote_breakup_item__description
          price: &on_init_message_order_quote_breakup_price
            currency: *on_search_message_catalog_providers_items_price_currency
            value: &on_init_message_order_quote_breakup_price_value
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 120
              description: Describes the currency to be paid in of a product or service
            _description: *on_select_message_order_quote_breakup_price__description
          _description: *on_select_message_order_quote_breakup__description
        _description: *on_select_message_order_quote__description
      payments: &on_init_message_order_payments
        id: &on_init_message_order_payments_id
          required: MANDATORY
          type: string
          owner: BPP
          usage: a1065fc5
          description: ID of the payment term that can be referred at an item or an order
            level in a catalog
        collected_by: &on_init_message_order_payments_collected_by
          required: MANDATORY
          type: string
          owner: BPP
          usage: BAP
          description: "This field indicates who is the collector of payment. "
        status: &on_init_message_order_payments_status
          required: MANDATORY
          type: string
          owner: BPP
          usage: NOT-PAID
          description: Payment Status
        type: &on_init_message_order_payments_type
          required: MANDATORY
          type: string
          owner: BPP
          usage: PRE-ORDER
          description: Payment type
        params: &on_init_message_order_payments_params
          bank_code: &on_init_message_order_payments_params_bank_code
            required: OPTIONAL
            type: string
            owner: BPP
            usage: XXXXXXXX
            description: Bank code associated with payment activity
          bank_account_number: &on_init_message_order_payments_params_bank_account_number
            required: OPTIONAL
            type: string
            owner: BPP
            usage: xxxxxxxxxxxxxx
            description: Bank account number associated with payment activity
          virtual_payment_address: &on_init_message_order_payments_params_virtual_payment_address
            required: OPTIONAL
            type: string
            owner: BPP
            usage: 9988199772@okicic
            description: Virtual payment address associated with payment activity
          _description: *init_message_order_payments_params__description
        _description: *init_message_order_payments__description
      cancellation_terms: *on_select_message_order_cancellation_terms
      _description: *select_message_order__description
confirm: &confirm
  context: &confirm_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &confirm_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: confirm
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &confirm_message
    order: &confirm_message_order
      items: *init_message_order_items
      provider: *select_message_order_provider
      billing: *init_message_order_billing
      payments: &confirm_message_order_payments
        id: &confirm_message_order_payments_id
          required: MANDATORY
          type: string
          owner: BAP
          usage: a1065fc5
          description: ID of the payment term that can be referred at an item or an order
            level in a catalog
        collected_by: *init_message_order_payments_collected_by
        status: *init_message_order_payments_status
        type: *init_message_order_payments_type
        params: &confirm_message_order_payments_params
          transaction_id: &confirm_message_order_payments_params_transaction_id
            required: MANDATORY
            type: string
            owner: BAP
            usage: 34cc9b0b
            description: The reference transaction ID associated with a payment activity
          currency: &confirm_message_order_payments_params_currency
            required: MANDATORY
            type: string
            owner: BAP
            usage: INR
            description: Describes currency value in string form
          amount: &confirm_message_order_payments_params_amount
            required: MANDATORY
            type: string
            owner: BAP
            usage: 60
            description: Describes a numerical value in decimal form
          _description: *init_message_order_payments_params__description
        _description: *init_message_order_payments__description
      _description: *select_message_order__description
on_confirm: &on_confirm
  context: &on_confirm_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_confirm_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_confirm
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &on_confirm_message
    order: &on_confirm_message_order
      id: &on_confirm_message_order_id
        required: MANDATORY
        type: string
        owner: BPP
        usage: 077b248f
        description: "Describes the ID of the order. "
      status: &on_confirm_message_order_status
        required: MANDATORY
        type: string
        owner: BPP
        usage: ACTIVE
        description: Status of the order. Allowed values can be defined by the network
          policy
      items: &on_confirm_message_order_items
        id: *on_select_message_order_items_id
        descriptor: &on_confirm_message_order_items_descriptor
          name: &on_confirm_message_order_items_descriptor_name
            required: MANDATORY
            type: string
            owner: BPP
            usage: Single Journey Ticket
            description: Describes the name for a particular item.
          code: *on_select_message_order_items_descriptor_code
          _description: *on_select_message_order_items_descriptor__description
        price: &on_confirm_message_order_items_price
          currency: *on_select_message_order_items_price_currency
          value: &on_confirm_message_order_items_price_value
            required: MANDATORY
            type: integer
            owner: BPP
            usage: 60
            description: Describes a numerical value in decimal form
          _description: *on_select_message_order_items_price__description
        quantity: *on_select_message_order_items_quantity
        fulfillment_ids: *on_search_message_catalog_providers_fulfillments_id
        category_ids: *on_select_message_order_items_category_ids
        time: *on_select_message_order_items_time
        _description: *on_select_message_order_items__description
      provider: &on_confirm_message_order_provider
        id: *on_search_message_catalog_providers_id
        descriptor: &on_confirm_message_order_provider_descriptor
          name: &on_confirm_message_order_provider_descriptor_name
            required: MANDATORY
            type: string
            owner: BPP
            usage: Delhi Metro Rail Limited
            description: Describes the name for a particular provider.
          images: *on_search_message_catalog_providers_descriptor_images
          _description: *on_search_message_catalog_providers_descriptor__description
        time: *on_init_message_order_provider_time
        _description: *on_search_message_catalog_providers_descriptor__description
      fulfillments: &on_confirm_message_order_fulfillments
        id: *on_search_message_catalog_providers_fulfillments_id
        type: *on_select_message_order_fulfillments_type
        stops: &on_confirm_message_order_fulfillments_stops
          id: *on_select_message_order_fulfillments_stops_id
          parent_stop_id: *on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
          type: &on_confirm_message_order_fulfillments_stops_type
            required: MANDATORY
            type: string
            owner: BPP
            usage: START
            description: The type of stop. Allowed values of this property can be defined by
              the network policy.
          authorization: &on_confirm_message_order_fulfillments_stops_authorization
            type: &on_confirm_message_order_fulfillments_stops_authorization_type
              required: OPTIONAL
              type: string
              owner: BPP
              usage: QR
              description: Denotes the authorization type
            token: &on_confirm_message_order_fulfillments_stops_authorization_token
              required: OPTIONAL
              type: string
              owner: BPP
              usage: iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9AQAAAACn+1GIAAAApklEQVR4Xu2UMQ4EMQgD/QP+/0vK6zjsvayUMmavWxQpMAUBkwS12wcveAAkgNSCD3rR5Lkgoai3GUCMgWqbAEYR3HxAkZlzU/0MyBisYRsgI1ERFfcpBpA+ze6k56Cj7KTdXNigFWZvSOpsgqLfd18i2aAukXh9TXBNmdWt5gzA/oqzWkkN8HtA7G8CNOwYAiZt3wZixUfkA32OHNQq7Bxs9oI/gC/9fV8AVCkPjQAAAABJRU5ErkJggg==
              description: Denotes the authorization token
            valid_to: &on_confirm_message_order_fulfillments_stops_authorization_valid_to
              required: OPTIONAL
              type: string
              owner: BPP
              usage: 2021-03-23T23:59:59.999Z
              description: Denotes the validity of token
            status: &on_confirm_message_order_fulfillments_stops_authorization_status
              required: OPTIONAL
              type: string
              owner: BPP
              usage: UNCLAIMED
              description: Denotes the token status
          instructions: &on_confirm_message_order_fulfillments_stops_instructions
            name: &on_confirm_message_order_fulfillments_stops_instructions_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Stop 1
              description: Describes the name for a particular instruction.
            short_desc: *on_select_message_order_fulfillments_stops_instructions_short_desc
            _description: *on_search_message_catalog_providers_fulfillments_stops_instructions__description
          location: *on_select_message_order_fulfillments_stops_location
          _description: *on_search_message_catalog_providers_fulfillments_stops__description
        vehicle: *on_select_message_order_fulfillments_vehicle
        _description: *on_search_message_catalog_providers_fulfillments__description
      billing: *init_message_order_billing
      quote: &on_confirm_message_order_quote
        price: &on_confirm_message_order_quote_price
          value: &on_confirm_message_order_quote_price_value
            required: MANDATORY
            type: integer
            owner: BPP
            usage: 60
            description: Describes the price of a product or service
          currency: *on_select_message_order_quote_price_currency
          _description: *on_select_message_order_quote_price__description
        breakup: &on_confirm_message_order_quote_breakup
          title: *on_init_message_order_quote_breakup_title
          item: &on_confirm_message_order_quote_breakup_item
            id: *on_select_message_order_items_id
            price: *on_init_message_order_quote_breakup_item_price
            quantity: *on_select_message_order_quote_breakup_item_quantity
            _description: *on_select_message_order_quote_breakup_item__description
          price: &on_confirm_message_order_quote_breakup_price
            currency: *on_search_message_catalog_providers_items_price_currency
            value: &on_confirm_message_order_quote_breakup_price_value
              required: OPTIONAL
              type: integer
              owner: BPP
              usage: 120
              description: Describes the currency to be paid in of a product or service
            _description: *on_select_message_order_quote_breakup_price__description
          _description: *on_select_message_order_quote_breakup__description
        _description: *on_select_message_order_quote__description
      payments: &on_confirm_message_order_payments
        id: *on_init_message_order_payments_id
        collected_by: *on_init_message_order_payments_collected_by
        status: *on_init_message_order_payments_status
        type: *on_init_message_order_payments_type
        params: &on_confirm_message_order_payments_params
          transaction_id: &on_confirm_message_order_payments_params_transaction_id
            required: MANDATORY
            type: string
            owner: BPP
            usage: 34cc9b0b
            description: The reference transaction ID associated with a payment activity
          currency: &on_confirm_message_order_payments_params_currency
            required: MANDATORY
            type: string
            owner: BPP
            usage: INR
            description: Describes currency value in string form
          amount: *on_select_message_order_items_price_value
          bank_code: &on_confirm_message_order_payments_params_bank_code
            required: MANDATORY
            type: string
            owner: BPP
            usage: XXXXXXXX
            description: Bank code associated with payment activity
          bank_account_number: &on_confirm_message_order_payments_params_bank_account_number
            required: MANDATORY
            type: string
            owner: BPP
            usage: xxxxxxxxxxxxxx
            description: Bank account number associated with payment activity
          virtual_payment_address: &on_confirm_message_order_payments_params_virtual_payment_address
            required: MANDATORY
            type: string
            owner: BPP
            usage: 9988199772@okicic
            description: Virtual payment address associated with payment activity
          _description: &on_confirm_message_order_payments_params__description
            required: MANDATORY
            type: object
            owner: BAP/BPP
            usage: --
            description: This attribute defines the payment params for this order.
        _description: *init_message_order_payments__description
      cancellation_terms: *on_select_message_order_cancellation_terms
      created_at: &on_confirm_message_order_created_at
        required: MANDATORY
        type: string
        owner: BPP
        usage: 2021-03-23T10:00:40.065Z
        description: Denotes the timestamp when order got created
      updated_at: &on_confirm_message_order_updated_at
        required: MANDATORY
        type: string
        owner: BPP
        usage: 2021-03-23T10:00:40.065Z
        description: Denotes the timestamp when order was updated
      _description: *select_message_order__description
cancel: &cancel
  context: &cancel_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &cancel_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: cancel
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &cancel_message
    order_id: &cancel_message_order_id
      required: MANDATORY
      type: string
      owner: BPP
      usage: 077b248f
      description: "Describes the  ID of the order. "
    cancellation_reason_id: &cancel_message_cancellation_reason_id
      required: MANDATORY
      type: string
      owner: BAP
      usage: 1
      description: Describes the cancellation reason ID.
    descriptor: &cancel_message_descriptor
      code: &cancel_message_descriptor_code
        required: MANDATORY
        type: string
        owner: BAP
        usage: SOFT_CANCEL
        description: Describes the cancellation code.
      name: &cancel_message_descriptor_name
        required: MANDATORY
        type: string
        owner: BAP
        usage: Ride Cancellation
        description: Describes the cancellation name.
      _description: &cancel_message_descriptor__description
        required: MANDATORY
        type: object
        owner: BAP
        usage: --
        description: Describes the descriptor of message
on_cancel: &on_cancel
  context: &on_cancel_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_cancel_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_cancel
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &on_cancel_message
    order: &on_cancel_message_order
      id: *on_confirm_message_order_id
      status: &on_cancel_message_order_status
        required: MANDATORY
        type: string
        owner: BPP
        usage: CANCELLED
        description: Status of the order. Allowed values can be defined by the network
          policy
      items: *on_confirm_message_order_items
      provider: &on_cancel_message_order_provider
        id: *on_search_message_catalog_providers_id
        descriptor: &on_cancel_message_order_provider_descriptor
          name: *on_confirm_message_order_provider_descriptor_name
          images: &on_cancel_message_order_provider_descriptor_images
            url: &on_cancel_message_order_provider_descriptor_images_url
              required: MANDATORY
              type: string
              owner: BPP
              usage: https://delhimetrorail.com/logos/logo.ico
              description: URL to the image. This can be a data url or an remote url
            _description: *on_search_message_catalog_providers_descriptor_images__description
          _description: *on_search_message_catalog_providers_descriptor__description
        time: *on_init_message_order_provider_time
        _description: *on_search_message_catalog_providers_descriptor__description
      fulfillments: &on_cancel_message_order_fulfillments
        id: *on_search_message_catalog_providers_fulfillments_id
        type: *on_select_message_order_fulfillments_type
        stops: &on_cancel_message_order_fulfillments_stops
          id: *on_select_message_order_fulfillments_stops_id
          parent_stop_id: *on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
          type: &on_cancel_message_order_fulfillments_stops_type
            required: OPTIONAL
            type: string
            owner: BPP
            usage: START
            description: The type of stop. Allowed values of this property can be defined by
              the network policy.
          instructions: &on_cancel_message_order_fulfillments_stops_instructions
            name: &on_cancel_message_order_fulfillments_stops_instructions_name
              required: OPTIONAL
              type: string
              owner: BPP
              usage: Stop 1
              description: Describes the name for an instruction.
            short_desc: *on_select_message_order_fulfillments_stops_instructions_short_desc
            _description: *on_search_message_catalog_providers_fulfillments_stops_instructions__description
          location: *on_select_message_order_fulfillments_stops_location
          _description: *on_search_message_catalog_providers_fulfillments_stops__description
        vehicle: *on_select_message_order_fulfillments_vehicle
        _description: *on_search_message_catalog_providers_fulfillments__description
      billing: *init_message_order_billing
      quote: &on_cancel_message_order_quote
        price: *on_confirm_message_order_quote_price
        breakup: &on_cancel_message_order_quote_breakup
          title: *on_init_message_order_quote_breakup_title
          item: &on_cancel_message_order_quote_breakup_item
            id: *on_search_message_catalog_providers_items_id
            price: &on_cancel_message_order_quote_breakup_item_price
              currency: &on_cancel_message_order_quote_breakup_item_price_currency
                required: OPTIONAL
                type: string
                owner: BPP
                usage: INR
                description: Describes the currency of breakup item
              value: &on_cancel_message_order_quote_breakup_item_price_value
                required: OPTIONAL
                type: string
                owner: BPP
                usage: 60
                description: Describes the value of breakup item
              _description: *on_select_message_order_quote_breakup_item_price__description
            quantity: &on_cancel_message_order_quote_breakup_item_quantity
              selected: &on_cancel_message_order_quote_breakup_item_quantity_selected
                count: &on_cancel_message_order_quote_breakup_item_quantity_selected_count
                  required: OPTIONAL
                  type: string
                  owner: BPP
                  usage: 2
                  description: Describes the count of breakup item
                _description: *on_select_message_order_quote_breakup_item_quantity_selected__description
              _description: *on_select_message_order_quote_breakup_item_quantity__description
            _description: *on_select_message_order_quote_breakup_item__description
          price: *on_confirm_message_order_quote_breakup_price
          _description: *on_select_message_order_quote_breakup__description
        _description: *on_select_message_order_quote__description
      payments: &on_cancel_message_order_payments
        id: *on_init_message_order_payments_id
        collected_by: *on_init_message_order_payments_collected_by
        status: *on_init_message_order_payments_status
        type: *on_init_message_order_payments_type
        params: &on_cancel_message_order_payments_params
          bank_code: *on_confirm_message_order_payments_params_bank_code
          bank_account_number: *on_confirm_message_order_payments_params_bank_account_number
          virtual_payment_address: *on_confirm_message_order_payments_params_virtual_payment_address
          _description: *on_confirm_message_order_payments_params__description
        _description: *init_message_order_payments__description
      cancellation_terms: *on_select_message_order_cancellation_terms
      cancellation: &on_cancel_message_order_cancellation
        cancelled_by: &on_cancel_message_order_cancellation_cancelled_by
          required: MANDATORY
          type: string
          owner: BPP
          usage: CONSUMER
          description: Denotes the person or entity who wants to cancel the order
        time: &on_cancel_message_order_cancellation_time
          required: MANDATORY
          type: string
          owner: BPP
          usage: 2021-03-23T10:00:00.065Z
          description: Denotes the time for cancellation
        _description: &on_cancel_message_order_cancellation__description
          required: MANDATORY
          type: object
          owner: BPP
          usage: --
          description: The cancellation details of this order
      _description: *select_message_order__description
status: &status
  context: &status_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &status_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: status
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: *search_context_ttl
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &status_message
    order_id: &status_message_order_id
      required: OPTIONAL
      type: string
      owner: BPP
      usage: 077b248f
      description: "Describes the ID of the order. "
    ref_id: &status_message_ref_id
      required: OPTIONAL
      type: string
      owner: BPP
      usage: 6743e9e2
      description: Describes the ref to the order
on_status: &on_status
  context: &on_status_context
    location: *search_context_location
    domain: *search_context_domain
    timestamp: *search_context_timestamp
    bap_id: *search_context_bap_id
    transaction_id: *search_context_transaction_id
    message_id: *search_context_message_id
    version: *search_context_version
    action: &on_status_context_action
      required: MANDATORY
      type: string
      owner: BAP
      usage: on_status
      description: Describes the Beckn protocol method being called by the sender and
        executed at the receiver.
    bap_uri: *search_context_bap_uri
    ttl: &on_status_context_ttl
      required: MANDATORY
      type: string
      owner: BPP
      usage: PT30S
      description: Describes the duration in ISO8601 format after timestamp for which
        this message holds valid
    bpp_id: *on_search_context_bpp_id
    bpp_uri: *on_search_context_bpp_uri
  message: &on_status_message
    order: &on_status_message_order
      id: *cancel_message_order_id
      status: &on_status_message_order_status
        required: MANDATORY
        type: string
        owner: BPP
        usage: COMPLETE
        description: Status of the order. Allowed values can be defined by the network
          policy
      items: *on_confirm_message_order_items
      provider: *on_cancel_message_order_provider
      fulfillments: &on_status_message_order_fulfillments
        id: *on_search_message_catalog_providers_fulfillments_id
        type: *on_select_message_order_fulfillments_type
        stops: &on_status_message_order_fulfillments_stops
          id: *on_select_message_order_fulfillments_stops_id
          parent_stop_id: *on_search_message_catalog_providers_fulfillments_stops_parent_stop_id
          type: *on_select_message_order_fulfillments_stops_type
          instructions: *on_confirm_message_order_fulfillments_stops_instructions
          location: *on_select_message_order_fulfillments_stops_location
          _description: *on_search_message_catalog_providers_fulfillments_stops__description
        vehicle: *on_select_message_order_fulfillments_vehicle
        _description: *on_search_message_catalog_providers_fulfillments__description
      billing: *init_message_order_billing
      quote: &on_status_message_order_quote
        price: *on_confirm_message_order_quote_price
        breakup: &on_status_message_order_quote_breakup
          title: *on_init_message_order_quote_breakup_title
          item: &on_status_message_order_quote_breakup_item
            id: *on_select_message_order_items_id
            price: *on_select_message_order_quote_breakup_item_price
            quantity: *on_select_message_order_quote_breakup_item_quantity
            _description: *on_select_message_order_quote_breakup_item__description
          price: *on_confirm_message_order_quote_breakup_price
          _description: *on_select_message_order_quote_breakup__description
        _description: *on_select_message_order_quote__description
      payments: *on_confirm_message_order_payments
      cancellation_terms: *on_select_message_order_cancellation_terms
      created_at: *on_confirm_message_order_created_at
      updated_at: *on_confirm_message_order_updated_at
      _description: *select_message_order__description
track: &track
  context: *status_context
  message: &track_message
    order_id: *on_confirm_message_order_id
on_track: &on_track
  context: *status_context
  message: &on_track_message
    tracking: &on_track_message_tracking
      status: &on_track_message_tracking_status
        required: MANDATORY
        type: string
        owner: BPP
        usage: active
        description: This value indicates if the tracking is currently active or not. If
          this value is `active`, then the BAP can begin tracking the order. If
          this value is `inactive`, the tracking URL is considered to be expired
          and the BAP should stop tracking the order.
      url: &on_track_message_tracking_url
        required: MANDATORY
        type: string
        owner: BPP
        usage: https://api.example-bpp.com/ondc/driver/location/abc9f0aa-bbfd-4e91-b378-41feee12f05f
        description: A URL to the tracking endpoint. This can be a link to a tracking
          webpage, a webhook URL created by the BAP where BPP can push the
          tracking data, or a GET url creaed by the BPP which the BAP can poll
          to get the tracking data. It can also be a websocket URL where the BPP
          can push real-time tracking data.
      _description: &on_track_message_tracking__description
        required: MANDATORY
        type: object
        owner: BPP
        usage: --
        description: Contains tracking information that can be used by the BAP to track
          the fulfillment of an order in real-time. which is useful for knowing
          the location of time sensitive deliveries.
